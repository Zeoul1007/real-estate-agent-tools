<script>
async function askGPT() {
    const query = document.getElementById("realEstateGPT").value;
    const responseBox = document.getElementById("aiResponse");

    try {
        const response = await fetch("https://real-estate-agent-tools-production.up.railway.app/ask-gpt", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({ query: query })
        });

        if (!response.ok) {
            throw new Error("Failed to fetch AI response.");
        }

        const data = await response.json();
        responseBox.innerText = data.choices[0].message.content;
    } catch (error) {
        responseBox.innerHTML = `<p style="color:red;">Error: ${error.message}</p>`;
    }
}
</script>

